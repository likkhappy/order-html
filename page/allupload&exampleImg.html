<div class="upload-box">
  <div class="upload-img">
    <span class="iconfont">&#xe620;</span>
    <input type="file">
    <img style="display:none;">
  </div>
</div>
<div class="example-box">
  <div class="example-box">
    <div class="box-modal">
      <div class="small-img"><img src="../img/jd-accout-level.jpg"></div>
      <div class="all-img" style="display:none;"><img src="../img/jd-accout-level.jpg"></div>
      <div class="def-txt">示例图</div>
    </div>
  </div>
</div>
<!-- 页面中只包含一个modalmask就行  ---弹出的黑色背景层-->
<div transition="modal" class="modal-mask" style="display: none;">
  <div class="modal-wrapper">
    <div class="modal-container" style="display: none;">
      Tips


      <div class="modal-footer border-none">
        <button class="modal-default-button modal-button-ok border-none" style="display: none;">
            Ok
        </button>
        <button class="modal-default-button modal-button-cancel" style="display: none;">
            Cancel
        </button>
      </div>
    </div>
  </div>
</div>



<script type="text/jscript" src="../js/exif.js"></script>
<script type="text/jscript" src="../js/jpeg_encoder_basic.js"></script>
<script type="text/jscript" src="../js/megapix-image.js"></script>
<script type="text/jscript" src="../js/html5ImgCompress.js"></script>
<script type="text/jscript" src="../js/lib/zepto.js"></script>



<script>

$('input[type="file"]').change(function() {
    var self = $(this);
    new html5ImgCompress(event.target.files[0], {
      done (file, base64) {
          var $img = self.parent().find('img');
          $img.attr('src', base64);
          $img.css('display' , 'block');
      }
    });
});

$('.def-txt').bind('click', function() {
    var self = $(this);
    var parent = self.parent();
    var bigImg = parent.find('.all-img');
    bigImg.css('display','block');
    $('.modal-mask').css('display','block');
});

$('.all-img').bind('click', function() {
    var self = $(this);
    self.css('display', 'none');
    $('.modal-mask').css('display','none');
})
</script>
